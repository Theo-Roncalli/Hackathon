docker.enabled = true

params {

    // parameters to be passed to scripts 
    index_cpus = 14
    mapping_cpus = 14
    counting_cpus = 7
    mapping_memory = '50GB'

    // optional command-line arguments 
    reads = null
    genome = null
    index = null

    // default values for automatic (default)
    // execution of the pipeline
        // debug params
            //genome_url = "https://raw.githubusercontent.com/bio-TAGI/Hackathon/main/.gitattributes"
            //annotation_url = "https://raw.githubusercontent.com/bio-TAGI/Hackathon/main/.gitignore"
        // real params
    genome_url = "http://labshare.cshl.edu/shares/gingeraslab/www-data/dobin/STAR/STARgenomes/Human/GRCh38_Ensembl99_sparseD3_sjdbOverhang99/Homo_sapiens.GRCh38.dna.primary_assembly.fa"
    annotation_url = "http://labshare.cshl.edu/shares/gingeraslab/www-data/dobin/STAR/STARgenomes/Human/GRCh38_Ensembl99_sparseD3_sjdbOverhang99/Homo_sapiens.GRCh38.99.gtf"
    
    // testing ids
    //ids = ['SRR15678351','SRR15289297']
    // full pipeline execution ids 
    ids = ['SRR628582', 'SRR628583', 'SRR628584', 'SRR628585', 'SRR628586', 'SRR628587', 'SRR628588', 'SRR628589']
    
    // STAR parameters
    sjdbOverhang = 99

    // Locations (we should probably remove this)
    // temporarily we leave this section.
    genomeDir = "Index"

}

process {
    shell = ['/bin/sh']
    executor='local'
    withName: Fasterq {
        cpus=1
        container='staphb/sratoolkit:latest'
        echo=true
    }
    withName: Genome {
        cpus=1
        echo=true
    }
    withName: Index {
        container='evolbioinfo/star:v2.7.6a'
        echo=true
    }
    withName: Mapping {
        echo=true
        container='evolbioinfo/star:v2.7.6a'
    }
    withName: Counting{
        echo=true
        container='evolbioinfo/subread:v2.0.1'
    }
}
